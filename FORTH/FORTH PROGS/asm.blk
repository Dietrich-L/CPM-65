( **********  6502 FORTH ASSEMBLER  ********** )                                                                                HEX VOCABULARY ASSEMBLER IMMEDIATE                              2 VARIABLE MODE    : ZP 2 MODE ! ;                                                                                              : CODE ?EXEC CREATE [COMPILE] ASSEMBLER !CSP ZP ; IMMEDIATE     : ;CODE ?CSP COMPILE (;CODE) [COMPILE] [                          [COMPILE] ASSEMBLER !CSP ZP ;                   IMMEDIATE     : LABEL ?EXEC 0 VARIABLE SMUDGE -2 ALLOT                          [COMPILE] ASSEMBLER !CSP ZP ;                   IMMEDIATE                                                                     ASSEMBLER DEFINITIONS                                                                                                           : END-CODE CURRENT @ CONTEXT ! ?EXEC ?CSP SMUDGE                                                             ;   IMMEDIATE      -->                                                             ( 6502 ASSEMBLER    SCREEN 2 )                                                                                                  : .A 0 MODE ! ;    : #   1 MODE ! ;   : ,X  3 MODE ! ;          : ,Y 4 MODE ! ;    : X)  5 MODE ! ;   : )Y  6 MODE ! ;          : )  F MODE ! ;                                                                                                                 : INH <BUILDS C, DOES> C@ C, ZP ;                                                                                                 00 INH BRK,  18 INH CLC,  D8 INH CLD,  58 INH CLI,              B8 INH CLV,  CA INH DEX,  88 INH DEY,  E8 INH INX,              C8 INH INY,  EA INH NOP,  48 INH PHA,  08 INH PHP,              68 INH PLA,  28 INH PLP,  40 INH RTI,  60 INH RTS,              38 INH SEC,  F8 INH SED,  78 INH SEI,  AA INH TAX,              A8 INH TAY,  BA INH TSX,  8A INH TXA,  9A INH TXS,              98 INH TYA,                                                   -->                                                             ( 6502 ASSEMBLER        SCREEN 3 )                                                                                              : ABYT <BUILDS C, DOES> C@ C, C, ; ( BRANCH OPCODES )                                                                             90 ABYT BCC,  B0 ABYT BCS,  F0 ABYT BEQ,  30 ABYT BMI,          D0 ABYT BNE,  10 ABYT BPL,  50 ABYT BVC,  70 ABYT BVS,                                                                        0 VARIABLE INDEX -2 ALLOT  ( BYTE ARRAY  -VARIABLE )                                                                            0909 , 1505 , 0115 , 8011 , 8009 , 1D0D , 8019 , 8080 ,         0080 , 1404 , 8014 , 8080 , 8080 , 1C0C , 801C , 2C80 ,                                                                         : UPMODE IF MODE @ 8 AND 0= IF 8 MODE +! ENDIF ENDIF              1 MODE @ 000F AND -DUP IF 0 DO DUP + LOOP ENDIF                 OVER 1+ @ AND 0= ;                                            -->                                                             ( 6502 ASSEMBLER    SCREEN 4 )                                  : MCPU <BUILDS C, , DOES>                                         DUP 1+ @ 80 AND IF 10 MODE +! ENDIF OVER                        FF00 AND UPMODE UPMODE IF ZP CR LATEST ID.                      3 ERROR ENDIF C@ MODE C@                                        INDEX + C@ + C, MODE C@ 7 AND IF MODE C@                        0F AND 7 < IF C, ELSE , ENDIF ENDIF ZP ;                                                                                      1C6E 60 MCPU ADC,  1C6E 20 MCPU AND,  1C6E C0 MCPU CMP,         1C6E 40 MCPU EOR,  1C6E A0 MCPU LDA,  1C6E 00 MCPU ORA,         1C6E E0 MCPU SBC,  1C6E 80 MCPU STA,  0D0D 01 MCPU ASL,         0C0C C1 MCPU DEC,  0C0C E1 MCPU INC,  0D0D 41 MCPU LSR,         0D0D 21 MCPU ROL,  0D0D 61 MCPU ROR,  0414 81 MCPU STX,         0486 E0 MCPU CPX,  0486 C0 MCPU CPY,  1496 A2 MCPU LDX,         0C8E A0 MCPU LDY,  048C 80 MCPU STY,  0480 14 MCPU JSR,         8480 40 MCPU JMP,  0484 20 MCPU BIT,  -->                       ( 6502 ASSEMBLER       SCREEN 5 )                                                                                               : BEGIN, HERE 1 ;                                               : AGAIN, ?EXEC 1 ?PAIRS 4C C, , ;                               : UNTIL, ?EXEC >R 1 ?PAIRS R> C, HERE 1+ - C, ;                 : IF,    C, HERE 0 C, 2 ;                                       : ENDIF, ?EXEC 2 ?PAIRS HERE OVER C@                                     IF SWAP ! ELSE OVER 1+ - SWAP C! ENDIF ;               : ELSE,  2 ?PAIRS HERE 1+ 1 JMP,                                         SWAP HERE OVER 1+ - SWAP C! 2 ;                                                                                        : NOT   20 + ;  ( INVERTIERT FOLGENDE BEDINGUNGEN )             90 CONSTANT CS  D0 CONSTANT 0=  ( BCS/ BEQ )                    10 CONSTANT 0<  90 CONSTANT >=  ( BMI/ BCS )                    50 CONSTANT VS                  ( BVS      )                    -->                                                             ( 6502 ASSEMBLER      SCREEN 6 )                                                                                                0242 CONSTANT NEXT                                              023B CONSTANT PUSH                                                                                                              : TOS ,X 0 ;       ( TOP OF STACK )                             : SEC ,X 2 ;       ( SECOND ON STACK )                                                                                          00D0 CONSTANT IP                                                00D3 CONSTANT W                                                 00C8 CONSTANT N                                                                                                                                                                                                                                                 ;S                                                                                                                              